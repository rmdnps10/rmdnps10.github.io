"use strict";(self.webpackChunkgatsby_starter_blog=self.webpackChunkgatsby_starter_blog||[]).push([[751],{6305:function(t,e,a){a.d(e,{J:function(){return n},k:function(){return l}});var r=a(6113);const n=async t=>{if(r.N&&t)try{const e=(new Date).toISOString(),{data:a,error:n}=await r.N.from("post_visits").select("*").eq("post_slug",t).maybeSingle();if(n)throw n;if(a){const{error:n}=await r.N.from("post_visits").update({visit_count:a.visit_count+1,last_visited_at:e}).eq("post_slug",t);if(n)throw n}else{const{error:a}=await r.N.from("post_visits").insert([{post_slug:t,visit_count:1,last_visited_at:e}]);if(a)throw a}}catch(e){console.error("Error tracking post visit:",e)}},l=async t=>{if(!r.N||!t)return{visitCount:0,lastVisitedAt:null};try{const{data:e,error:a}=await r.N.from("post_visits").select("visit_count, last_visited_at").eq("post_slug",t).maybeSingle();if(a)throw a;return e?{visitCount:(null==e?void 0:e.visit_count)||0,lastVisitedAt:(null==e?void 0:e.last_visited_at)||null}:{visitCount:0,lastVisitedAt:null}}catch(e){return console.error("Error fetching post visit info:",e),{visitCount:0,lastVisitedAt:null}}}},6994:function(t,e,a){a.r(e),a.d(e,{Head:function(){return d},default:function(){return u}});var r=a(6540),n=a(4794),l=a(6007),i=a(4496);var o=()=>{const t=(0,r.useRef)(null);return(0,r.useEffect)((()=>{const e=document.createElement("script");Object.entries({src:"https://giscus.app/client.js","data-repo":"rmdnps10/rmdnps10.github.io","data-repo-id":"R_kgDON4-0LA","data-category":"Comments","data-category-id":"DIC_kwDON4-0LM4Cm_Ns","data-mapping":"pathname","data-strict":"0","data-reactions-enabled":"1","data-emit-metadata":"0","data-input-position":"bottom","data-theme":"dark","data-lang":"ko","data-loading":"lazy",crossorigin:"anonymous",async:!0}).forEach((t=>{let[a,r]=t;e.setAttribute(a,r)})),t.current.appendChild(e)}),[]),r.createElement("div",{ref:t})};var s=t=>{let{html:e}=t;const{0:a,1:n}=(0,r.useState)([]),{0:l,1:i}=(0,r.useState)("");(0,r.useEffect)((()=>{if("undefined"==typeof window)return;const t=document.createElement("div");t.innerHTML=e;const a=t.querySelectorAll("h1, h2, h3, h4"),r=Array.from(a).map((t=>({id:t.id,text:t.textContent,level:parseInt(t.tagName.charAt(1))})));n(r);const l=new IntersectionObserver((t=>{t.forEach((t=>{t.isIntersecting&&i(t.target.id)}))}),{rootMargin:"-100px 0px -66%",threshold:0}),o=document.querySelectorAll(".blog-post h1, .blog-post h2, .blog-post h3, .blog-post h4");return o.forEach((t=>l.observe(t))),()=>{o.forEach((t=>l.unobserve(t)))}}),[e]);return 0===a.length?null:r.createElement("nav",{className:"toc-container mt-5"},r.createElement("ul",{className:"toc-list"},a.map(((t,e)=>r.createElement("li",{key:e,className:"toc-item toc-level-"+t.level+" "+(l===t.id?"active":"")},r.createElement("a",{href:"#"+t.id,onClick:e=>((t,e)=>{if(t.preventDefault(),"undefined"==typeof window)return;const a=document.getElementById(e);if(a){const t=-80,e=a.getBoundingClientRect().top+window.pageYOffset+t;window.scrollTo({top:e,behavior:"smooth"})}})(e,t.id),className:"toc-link"},t.text))))))},c=a(6305);const d=t=>{var e,a,n,l,o;let{data:{markdownRemark:s,site:c}}=t;const d=c.siteMetadata.siteUrl,u=""+d+s.fields.slug;let m=null;null!==(e=s.frontmatter.thumbnail)&&void 0!==e&&null!==(a=e.childImageSharp)&&void 0!==a&&null!==(n=a.fixed)&&void 0!==n&&n.src?m=""+d+s.frontmatter.thumbnail.childImageSharp.fixed.src:null!==(l=s.frontmatter.thumbnail)&&void 0!==l&&l.publicURL&&(m=""+d+s.frontmatter.thumbnail.publicURL);const f=s.frontmatter.date?new Date(s.frontmatter.date).toISOString():null,p=s.frontmatter.keywords?s.frontmatter.keywords:null===(o=s.frontmatter.tags)||void 0===o?void 0:o.join(", ");return r.createElement(i.A,{title:s.frontmatter.title,description:s.frontmatter.description||s.excerpt,image:m,imageAlt:s.frontmatter.title,type:"article",url:u,publishedTime:f,author:c.siteMetadata.author.name,keywords:p})};var u=t=>{var e,a;let{data:{previous:i,next:d,site:u,markdownRemark:m},location:f}=t;const p=(null===(e=u.siteMetadata)||void 0===e?void 0:e.title)||"Title";return(0,r.useEffect)((()=>{var t;null!=m&&null!==(t=m.fields)&&void 0!==t&&t.slug&&(0,c.J)(m.fields.slug)}),[null==m||null===(a=m.fields)||void 0===a?void 0:a.slug]),r.createElement(l.A,{location:f,title:p},r.createElement("div",{className:"blog-post-container"},r.createElement("article",{className:"blog-post",itemScope:!0,itemType:"http://schema.org/Article"},r.createElement("header",null,r.createElement("h1",{itemProp:"headline"},m.frontmatter.title),r.createElement("p",null,m.frontmatter.date)),r.createElement("section",{dangerouslySetInnerHTML:{__html:m.html},itemProp:"articleBody"}),r.createElement("footer",null,r.createElement(o,null))),r.createElement("aside",{className:"toc-sidebar"},r.createElement(s,{html:m.html}))),r.createElement("nav",{className:"blog-post-nav"},r.createElement("ul",{style:{display:"flex",flexWrap:"wrap",justifyContent:"space-between",listStyle:"none",padding:0}},r.createElement("li",null,i&&r.createElement(n.Link,{to:i.fields.slug,rel:"prev"},"← ",i.frontmatter.title)),r.createElement("li",null,d&&r.createElement(n.Link,{to:d.fields.slug,rel:"next",className:""},d.frontmatter.title," →")))))}}}]);
//# sourceMappingURL=component---src-templates-blog-post-js-e861b23e1e3c5f0286d3.js.map